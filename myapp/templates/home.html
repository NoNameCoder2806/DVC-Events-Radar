{% extends "base.html" %}
{% load static %}

<body>

    <div class="container-fluid mt-4">
        {% block content %}
        <div class="row">
            <!-- ðŸ§­ Left Column -->
            <div class="col-md-2">
                <h5 class="mb-3">Filters</h5>
                <!-- ðŸ“ Location -->
                <div class="border-bottom mb-2 pb-2">
                    <div class="d-flex justify-content-between align-items-center">
                        <span class="fw-bold">Location</span>
                        <button class="btn btn-sm btn-outline-secondary toggle-btn collapsed" type="button" data-toggle="collapse"
                            data-target="#locationFilter" aria-expanded="false" aria-controls="locationFilter">
                            +
                        </button>
                    </div>
                    <div class="collapse mt-2" id="locationFilter">
                        <label class="form-check" for="onCampus">Pleasant Hill Campus<input type="checkbox" id="onCampus"><span class="checkmark"></span></label>
                        <label class="form-check" for="offCampus">San Ramon Campus<input type="checkbox" id="offCampus"><span class="checkmark"></span></label>
                        <label class="form-check" for="virtual">Virtual<input type="checkbox" id="virtual"><span class="checkmark"></span></label>
                    </div>
                </div>

                <!-- ðŸ“… Select Days -->
                <div class="border-bottom mb-2 pb-2">
                    <div class="d-flex justify-content-between align-items-center">
                        <span class="fw-bold">Select Days</span>
                        <button class="btn btn-sm btn-outline-secondary toggle-btn collapsed" type="button" data-toggle="collapse"
                            data-target="#daysFilter" aria-expanded="false" aria-controls="daysFilter">
                            +
                        </button>
                    </div>
                    <div class="collapse mt-2" id="daysFilter">
                        <label class="form-check" for="monday"><input class="form-check-input" type="checkbox" id="monday">Monday<span class="checkmark"></span></label>
                        <label class="form-check" for="tuesday"><input class="form-check-input" type="checkbox" id="tuesday">Tuesday<span class="checkmark"></span></label>
                        <label class="form-check" for="wednesday"><input class="form-check-input" type="checkbox" id="wednesday">Wednesday<span class="checkmark"></span></label>
                        <label class="form-check" for="thursday"><input class="form-check-input" type="checkbox" id="thursday">Thursday<span class="checkmark"></span></label>
                        <label class="form-check" for="friday"><input class="form-check-input" type="checkbox" id="friday">Friday<span class="checkmark"></span></label>
                    </div>
                </div>

                <!-- ðŸ•’ Time Range -->
                <div class="border-bottom mb-2 pb-2">
                    <div class="d-flex justify-content-between align-items-center">
                        <span class="fw-bold">Select Time Range</span>
                        <button class="btn btn-sm btn-outline-secondary toggle-btn collapsed" type="button" data-toggle="collapse"
                            data-target="#timeFilter" aria-expanded="false" aria-controls="timeFilter">
                            +
                        </button>
                    </div>
                    <div class="collapse mt-2" id="timeFilter">
                        <label class="form-check" for="morning"><input class="form-check-input" type="checkbox" id="morning">Morning<br>(8amâ€“12pm)<span class="checkmark"></span></label>
                        <label class="form-check" for="afternoon"><input class="form-check-input" type="checkbox" id="afternoon">Afternoon<br>(12pmâ€“5pm)<span class="checkmark"></span></label>
                        <label class="form-check" for="evening"><input class="form-check-input" type="checkbox" id="evening">Evening<br>(5pmâ€“9pm)<span class="checkmark"></span></label>
                    </div>
                </div>

                <!-- ðŸŽŸï¸ Event Type -->
                <div class="border-bottom mb-2 pb-2">
                    <div class="d-flex justify-content-between align-items-center">
                        <span class="fw-bold">Event Type</span>
                        <button class="btn btn-sm btn-outline-secondary toggle-btn collapsed" type="button" data-toggle="collapse"
                            data-target="#typeFilter" aria-expanded="false" aria-controls="typeFilter">
                            +
                        </button>
                    </div>
                    <div class="collapse mt-2" id="typeFilter">
                        <label class="form-check" for="sports"><input class="form-check-input" type="checkbox" id="sports">Sports<span class="checkmark"></span></label>
                        <label class="form-check" for="music"><input class="form-check-input" type="checkbox" id="music">Clubs<span class="checkmark"></span></label>
                        <label class="form-check" for="clubs">Career & Academic<input class="form-check-input" type="checkbox" id="clubs"><span class="checkmark"></span></label>
                        <label class="form-check" for="academic"><input class="form-check-input" type="checkbox" id="academic">Free Food<span class="checkmark"></span></label>
                    </div>
                </div>

                <!-- Apply Button -->
                <!-- <button class="btn btn-primary w-100 mt-2">Apply Filters</button> -->
            </div>

            <!-- ðŸŽŸï¸ Middle Column -->
            <div class="col-md-8">
                <!-- Short Description -->
                <div>
                    <p class="page-description">Add the Events page description here</p>
                </div>

                <!-- The Events Search Bar-->
                <div class="p-3 bg-white border rounded">
                    <h3>Event Search</h3>
                    <div id="searchbar">
                        <input id="search-input" type="text" class="form-control mb-3" placeholder="Search for events...">
                        <div id="search-icon" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="48" height="48" viewBox="0 0 24 24" style="fill:#FFFFFF;"><path d="M 10 2 C 5.5965257 2 2 5.5965291 2 10 C 2 14.403471 5.5965257 18 10 18 C 11.752132 18 13.370523 17.422074 14.691406 16.458984 L 20.224609 21.992188 L 21.992188 20.224609 L 16.458984 14.691406 C 17.422074 13.370523 18 11.75213 18 10 C 18 5.5965291 14.403474 2 10 2 z M 10 4.5 C 13.052375 4.5 15.5 6.947627 15.5 10 C 15.5 13.052373 13.052375 15.5 10 15.5 C 6.9476251 15.5 4.5 13.052373 4.5 10 C 4.5 6.947627 6.9476251 4.5 10 4.5 z"></path></svg></div>
                    </div>
                    <!-- âœ… New Bootstrap row for event grid -->
                    <div class="row">
                        {% for event in events_data %}
                        <div class="col-md-6  mb-4">
                            {% include 'partials/event_card.html' with event=event %} 
                        </div>
                        {% endfor %} 
                    </div>
                </div>
            </div>


            <!-- ðŸ“… Right Column -->
            <div class="col-md-2">
                <div class="p-3 bg-light border rounded d-flex flex-column align-items-center">
                    <h5>Quick Access</h5>
                    <a href="{% url 'calendar' %}" class="btn btn-primary mb-2 w-100">Full Calendar</a>
                    <a href="{% url 'map' %}" class="btn btn-success w-100">Event Map</a>
                </div>
            </div>
        </div>
        {% endblock %}
    </div>

    <!-- Scripts -->
    <script>
        // Change + to - when the filter is expanded
        document.querySelectorAll('.toggle-btn').forEach(button => {
            button.addEventListener('click', () => {
                const target = document.querySelector(button.dataset.target);
                const expanded = button.getAttribute('aria-expanded') === 'true';
                setTimeout(() => {
                    button.textContent = expanded ? '+' : 'âˆ’';
                }, 150);
            });
        });
    </script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>
</body>

</html>