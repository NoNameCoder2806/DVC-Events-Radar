{% extends 'home.html' %}
{% block title %}Event Map{% endblock %}

{% block content %}
<div class="container mt-4">

    <div class="d-flex align-items-center mb-3">
        <button type="button" class="btn btn-outline-secondary me-auto" onclick="history.back()">
            ← Back
        </button>
        <h2 class="text-center flex-grow-1 m-0">Event Map</h2>
        <div style="width: 75px;"></div>
    </div>

    <p>Scroll around to explore events.</p>
    <div id="map" style="height: 500px; width: 100%;"></div>
</div>

<!-- Leaflet -->
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<!-- MarkerCluster plugin -->
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.css" />
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.Default.css" />
<script src="https://unpkg.com/leaflet.markercluster/dist/leaflet.markercluster.js"></script>

<script>
    const map = L.map('map').setView([37.9680, -122.0720], 13);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 19,
        attribution: '© OpenStreetMap'
    }).addTo(map);

    // Create the marker cluster group
    const markers = L.markerClusterGroup();

    // Add your markers (just sample ones here)
    markers.addLayer(L.marker([37.75496847390289, -121.91041226441861]).bindPopup("SR-WEST"));
    markers.addLayer(L.marker([37.75473372697604, -121.90974463229286]).bindPopup("SR-EAST"));
    markers.addLayer(L.marker([37.75466158409603, -121.91027992055231]).bindPopup("SR-LIB"));
    markers.addLayer(L.marker([37.75485993400142, -121.91081279723862]).bindPopup("SR-LC"));
    markers.addLayer(L.marker([37.75498194513493, -121.91125603403335]).bindPopup("SR-MP"));

    map.addLayer(markers);
</script>
{% endblock %}
